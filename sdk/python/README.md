# Proyecto Semilla SDK

**SDK Python para desarrollo Vibecoding-native con Proyecto Semilla**

[![Version](https://img.shields.io/badge/version-0.1.0-blue.svg)](https://github.com/proyecto-semilla/proyecto-semilla)
[![Python](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

## üöÄ Caracter√≠sticas

- ‚úÖ **Type-Safe**: Modelos Pydantic con validaci√≥n autom√°tica
- ‚úÖ **Async/Await**: Operaciones as√≠ncronas con httpx
- ‚úÖ **Auto-Auth**: JWT tokens con refresh autom√°tico
- ‚úÖ **Error Handling**: Excepciones espec√≠ficas y descriptivas
- ‚úÖ **Vibecoding-Ready**: Optimizado para uso con LLMs
- ‚úÖ **Production-Ready**: Tests completos y documentaci√≥n

## üì¶ Instalaci√≥n

```bash
# Instalar desde el repositorio local
pip install -e ./sdk/python

# O instalar dependencias manualmente
pip install pydantic httpx pyjwt pytest pytest-asyncio
```

## üèÅ Inicio R√°pido

```python
import asyncio
from proyecto_semilla import ProyectoSemillaClient

async def main():
    async with ProyectoSemillaClient() as client:
        # Login
        user = await client.login("admin@example.com", "password")
        print(f"Logged in as: {user.full_name}")

        # Listar tenants
        tenants = await client.get_tenants()
        print(f"Available tenants: {len(tenants)}")

        # Generar m√≥dulo (Vibecoding core feature)
        from proyecto_semilla.models import ModuleSpec, ModuleCategory

        spec = ModuleSpec(
            name="ecommerce",
            display_name="E-commerce Module",
            description="Complete e-commerce solution",
            category=ModuleCategory.ECOMMERCE,
            features=["products", "cart", "checkout", "payments"],
            entities=[
                {
                    "name": "Product",
                    "fields": [
                        {"name": "name", "type": "string", "required": True},
                        {"name": "price", "type": "float", "required": True},
                        {"name": "description", "type": "text"}
                    ]
                }
            ]
        )

        result = await client.generate_module(spec)
        print(f"Module generated: {result.module_name}")
        print(f"Files created: {result.files_created}")

asyncio.run(main())
```

## üìö Documentaci√≥n

### Cliente Principal

```python
from proyecto_semilla import ProyectoSemillaClient

# Inicializaci√≥n
client = ProyectoSemillaClient(
    base_url="http://localhost:7777",  # URL de tu instancia
    api_key="your-api-key",            # O usa email/password
    timeout=30.0,                      # Timeout en segundos
    auto_refresh=True                  # Auto-refresh tokens
)

# Context manager (recomendado)
async with ProyectoSemillaClient() as client:
    # Tu c√≥digo aqu√≠
    pass
```

### Autenticaci√≥n

```python
# Login con email/password
user = await client.login("user@example.com", "password")
print(f"Welcome {user.full_name}!")

# Verificar autenticaci√≥n
if client.is_authenticated():
    print("Authenticated!")

# Logout
await client.logout()
```

### Gesti√≥n de Tenants

```python
# Listar todos los tenants
tenants = await client.get_tenants()
for tenant in tenants:
    print(f"{tenant.name} ({tenant.slug})")

# Obtener tenant espec√≠fico
tenant = await client.get_tenant("tenant-id")

# Crear nuevo tenant
from proyecto_semilla.models import TenantCreate
new_tenant = await client.create_tenant(
    TenantCreate(name="Mi Empresa", slug="mi-empresa")
)
```

### Gesti√≥n de Usuarios

```python
# Listar usuarios
users = await client.get_users()
# O filtrar por tenant
users = await client.get_users(tenant_id="tenant-1")

# Crear usuario
from proyecto_semilla.models import UserCreate
new_user = await client.create_user(
    UserCreate(
        email="newuser@example.com",
        password="securepassword",
        first_name="Juan",
        last_name="P√©rez",
        tenant_id="tenant-1"
    )
)
```

### Generaci√≥n de M√≥dulos (Vibecoding Core)

```python
from proyecto_semilla.models import ModuleSpec, ModuleCategory, EntityField

# Definir especificaci√≥n del m√≥dulo
spec = ModuleSpec(
    name="inventory_system",
    display_name="Sistema de Inventario",
    description="Gesti√≥n completa de inventario y stock",
    version="1.0.0",
    category=ModuleCategory.INVENTORY,
    features=[
        "Product management",
        "Stock tracking",
        "Inventory reports",
        "Low stock alerts"
    ],
    entities=[
        {
            "name": "Product",
            "description": "Productos en inventario",
            "fields": [
                EntityField(
                    name="name",
                    type="string",
                    required=True,
                    max_length=100
                ),
                EntityField(
                    name="sku",
                    type="string",
                    required=True,
                    max_length=50
                ),
                EntityField(
                    name="price",
                    type="float",
                    required=True
                ),
                EntityField(
                    name="stock_quantity",
                    type="integer",
                    required=True,
                    default=0
                )
            ]
        }
    ],
    apis=[
        {
            "path": "/api/v1/products",
            "method": "GET",
            "description": "Listar productos"
        },
        {
            "path": "/api/v1/products",
            "method": "POST",
            "description": "Crear producto"
        }
    ],
    ui_components=[
        "dashboard",
        "product_list",
        "product_form",
        "inventory_reports"
    ]
)

# Generar m√≥dulo completo
result = await client.generate_module(spec)
print(f"‚úÖ M√≥dulo '{result.module_name}' generado exitosamente!")
print(f"üìÅ Archivos creados: {result.files_created}")
print(f"üîå APIs generadas: {result.apis_generated}")
print(f"üñ•Ô∏è Componentes UI: {result.ui_components_created}")
```

## üß™ Testing

```bash
# Ejecutar tests
pytest sdk/python/tests/

# Con coverage
pytest --cov=proyecto_semilla --cov-report=html

# Tests espec√≠ficos
pytest sdk/python/tests/test_client.py -v
```

## üìã Modelos de Datos

### Core Models

| Model | Descripci√≥n |
|-------|-------------|
| `Tenant` | Informaci√≥n de tenant multi-tenant |
| `User` | Datos de usuario con tenant association |
| `ModuleSpec` | Especificaci√≥n para generar m√≥dulos |
| `ModuleStatus` | Estado de m√≥dulos generados |
| `GenerationResult` | Resultado de generaci√≥n de m√≥dulos |

### Enums

| Enum | Valores |
|------|---------|
| `ModuleCategory` | cms, inventory, crm, finance, analytics, etc. |
| `UIComponent` | dashboard, list_view, form, detail_view, etc. |

## üö® Manejo de Errores

```python
from proyecto_semilla.exceptions import (
    AuthenticationError,
    APIError,
    ValidationError,
    ProyectoSemillaError
)

try:
    result = await client.generate_module(spec)
except AuthenticationError:
    print("Error: No autenticado")
except ValidationError as e:
    print(f"Error de validaci√≥n: {e.message}")
    if e.details.get('field'):
        print(f"Campo problem√°tico: {e.details['field']}")
except APIError as e:
    print(f"Error de API: {e.status_code} - {e.message}")
except ProyectoSemillaError as e:
    print(f"Error general: {e.message}")
```

## üîß Configuraci√≥n Avanzada

### Custom Headers

```python
# Headers personalizados
client.client.headers.update({
    'X-Custom-Header': 'value',
    'User-Agent': 'My-App/1.0'
})
```

### Timeout Configuration

```python
# Timeout personalizado
client = ProyectoSemillaClient(timeout=60.0)
```

### API Key Authentication

```python
# Usar API key en lugar de login
client = ProyectoSemillaClient(api_key="your-api-key")
```

## ü§ñ Integraci√≥n con LLMs

El SDK est√° optimizado para uso con LLMs como Claude:

```python
# Claude puede ejecutar esto autom√°ticamente
"""
Genera un m√≥dulo de CRM con las siguientes caracter√≠sticas:
- Gesti√≥n de contactos
- Seguimiento de leads
- Dashboard de ventas
- Reportes de conversi√≥n
"""

# El LLM puede escribir c√≥digo como este:
from proyecto_semilla import ProyectoSemillaClient, ModuleSpec, ModuleCategory

async def generate_crm_module():
    spec = ModuleSpec(
        name="crm_system",
        display_name="CRM System",
        description="Customer Relationship Management",
        category=ModuleCategory.CRM,
        features=["contacts", "leads", "sales_dashboard", "reports"],
        # ... resto de la configuraci√≥n
    )

    async with ProyectoSemillaClient() as client:
        await client.login("admin@example.com", "password")
        result = await client.generate_module(spec)
        return result
```

## üìà M√©tricas y Monitoreo

```python
# Health check
health = await client.health_check()
print(f"Status: {health['status']}")
print(f"Version: {health['version']}")
print(f"Response time: {health['response_time']:.2f}s")

# Informaci√≥n de autenticaci√≥n
if client.is_authenticated():
    user = client.get_current_user()
    tenant = client.get_current_tenant()
    print(f"Usuario: {user.full_name}")
    print(f"Tenant: {tenant}")
```

## üõ†Ô∏è Desarrollo y Contribuci√≥n

### Estructura del Proyecto

```
sdk/python/
‚îú‚îÄ‚îÄ proyecto_semilla/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py      # Exports principales
‚îÇ   ‚îú‚îÄ‚îÄ client.py        # Cliente principal
‚îÇ   ‚îú‚îÄ‚îÄ models.py        # Modelos Pydantic
‚îÇ   ‚îú‚îÄ‚îÄ auth.py          # Gesti√≥n de autenticaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ exceptions.py    # Excepciones personalizadas
‚îÇ   ‚îî‚îÄ‚îÄ utils.py         # Utilidades
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ test_client.py   # Tests del cliente
‚îÇ   ‚îî‚îÄ‚îÄ test_models.py   # Tests de modelos
‚îú‚îÄ‚îÄ README.md            # Esta documentaci√≥n
‚îú‚îÄ‚îÄ setup.py            # Configuraci√≥n de paquete
‚îî‚îÄ‚îÄ requirements.txt    # Dependencias
```

### Agregar Nuevas Features

1. **Modelos**: Agregar a `models.py` con validaciones Pydantic
2. **M√©todos**: Agregar al cliente en `client.py`
3. **Tests**: Crear tests en `tests/`
4. **Documentaci√≥n**: Actualizar este README

## üìÑ Licencia

Este proyecto est√° bajo la Licencia MIT. Ver [LICENSE](../LICENSE) para m√°s detalles.

## üÜò Soporte

- üìß **Email**: dev@proyectosemilla.dev
- üí¨ **Discord**: [Proyecto Semilla Community](https://discord.gg/proyecto-semilla)
- üìñ **Docs**: [Documentaci√≥n Completa](https://docs.proyectosemilla.dev)

---

**üå± Proyecto Semilla - La primera plataforma SaaS Vibecoding-native** üöÄ